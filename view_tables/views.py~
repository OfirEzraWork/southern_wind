from django.shortcuts import render
from view_tables.models import Adventure, Registrant
from django.views import generic

def index(request):
    """View function for home page of site """
    #Count stuff
    num_adventures = Adventure.objects.all().count()
    num_registrants = Registrant.objects.all().count()

    context = {
        'num_adventures':num_adventures,
        'num_registrants':num_registrants,
    }

    #render the HTML template index.html
    return render (request, 'index.html', context=context)


class AdventureListView(generic.ListView):
    model = Adventure

class adventureDetailView(generic.DetailView):
    model = Adventure

def adventure_detail_view(request,primary_key):
    try:
        adventure = Adventure.objects.get(pk=primary_key)
    except Book.DoesNotExist:
        raise Http404('Adventure does not exist')

class RegistrantListView(generic.ListView):
    model = Registrant
    
